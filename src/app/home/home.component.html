
<app-search></app-search>


<div *ngIf='_http.errorMessage'>
    <p>Sorry, an error accured fetching all recipes. Error message from server:</p>
        <p>{{_http.errorMessage.statusText}}</p>
</div>

<div *ngIf='_http.recipeList' class="cards">
    <div *ngFor='let hit of _http.recipeList.hits'class="recipe-card" (click)='openRecipeDetails(hit.recipe)' >
        <div class="content">
            <p class="recipe-title">{{hit.recipe.label}}</p>
            <p>Source: {{hit.recipe.source}}</p>
            <p>Coocking time: {{hit.recipe.totalTime > 0 ?  hit.recipe.totalTime + ' minutes' : 'Depends on you'}}</p>
            <p>Calories: {{_http.formatNumber(hit.recipe.calories)}}</p>
        </div>
        <img src={{hit.recipe.image}}/>
    </div>

    <!-- PopUp section -->
    <div id="comp-render" *ngIf="_http.displayRecipeDetails">
        <app-recipe-details></app-recipe-details>
    </div>
    
</div>


<!-- *ngIf="loading" -->
<app-loading-indicator *ngIf="_http.loading">Loading...</app-loading-indicator>